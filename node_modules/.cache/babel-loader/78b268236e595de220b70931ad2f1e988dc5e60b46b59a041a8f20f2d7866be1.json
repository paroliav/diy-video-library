{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddEditVideo=_ref=>{let{videos,onSave}=_ref;const{id}=useParams();const navigate=useNavigate();const[formData,setFormData]=useState({title:'',category:'',link:'',thumbnail:null,rating:''});useEffect(()=>{if(id&&videos){const video=videos.find(v=>v.id===id);if(video)setFormData(video);}},[id,videos]);const handleChange=e=>{const{name,value,type}=e.target;setFormData(prev=>({...prev,[name]:type==='file'?e.target.files[0]:value}));};const handleSubmit=async e=>{e.preventDefault();const formDataToSend=new FormData();for(const key in formData){formDataToSend.append(key,formData[key]);}try{await fetch('/.netlify/functions/saveVideo',{method:'POST',body:formDataToSend});onSave();navigate('/');}catch(error){console.error('Error saving video:',error);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",value:formData.title,onChange:handleChange,placeholder:\"Title\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"category\",value:formData.category,onChange:handleChange,placeholder:\"Category\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"link\",value:formData.link,onChange:handleChange,placeholder:\"Video Link\"}),/*#__PURE__*/_jsx(\"input\",{name:\"thumbnail\",type:\"file\",onChange:handleChange,accept:\"image/*\"}),/*#__PURE__*/_jsx(\"input\",{name:\"rating\",type:\"number\",min:\"0\",max:\"5\",value:formData.rating,onChange:handleChange,placeholder:\"Rating\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})]});};export default AddEditVideo;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","AddEditVideo","_ref","videos","onSave","id","navigate","formData","setFormData","title","category","link","thumbnail","rating","video","find","v","handleChange","e","name","value","type","target","prev","files","handleSubmit","preventDefault","formDataToSend","FormData","key","append","fetch","method","body","error","console","onSubmit","children","onChange","placeholder","required","accept","min","max"],"sources":["/Users/vivekhome/Projects/diy-video-library/src/components/AddEditVideo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst AddEditVideo = ({ videos, onSave }) => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: '',\n    category: '',\n    link: '',\n    thumbnail: null,\n    rating: '',\n  });\n\n  useEffect(() => {\n    if (id && videos) {\n      const video = videos.find(v => v.id === id);\n      if (video) setFormData(video);\n    }\n  }, [id, videos]);\n\n  const handleChange = (e) => {\n    const { name, value, type } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'file' ? e.target.files[0] : value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formDataToSend = new FormData();\n    for (const key in formData) {\n      formDataToSend.append(key, formData[key]);\n    }\n\n    try {\n      await fetch('/.netlify/functions/saveVideo', {\n        method: 'POST',\n        body: formDataToSend,\n      });\n      onSave();\n      navigate('/');\n    } catch (error) {\n      console.error('Error saving video:', error);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input name=\"title\" value={formData.title} onChange={handleChange} placeholder=\"Title\" required />\n      <input name=\"category\" value={formData.category} onChange={handleChange} placeholder=\"Category\" required />\n      <input name=\"link\" value={formData.link} onChange={handleChange} placeholder=\"Video Link\" />\n      <input name=\"thumbnail\" type=\"file\" onChange={handleChange} accept=\"image/*\" />\n      <input name=\"rating\" type=\"number\" min=\"0\" max=\"5\" value={formData.rating} onChange={handleChange} placeholder=\"Rating\" />\n      <button type=\"submit\">Save</button>\n    </form>\n  );\n};\n\nexport default AddEditVideo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}